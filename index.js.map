{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '48906528-865b601cba228060b80f58b51';\nconst PER_PAGE = 40;\n\nexport async function fetchImages(query, page) {\n  const params = {\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    per_page: PER_PAGE,\n    page: page,\n  };\n\n  try {\n    const response = await axios.get(BASE_URL, { params });\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching images:', error);\n    return { hits: [], totalHits: 0 };\n  }\n}\n","export function imageTemplate(item) {\n    const { webformatURL, largeImageURL, tags, likes, views, comments, downloads } = item;\n  \n    return `\n      <li class=\"gallery-item\">\n        <a href=\"${largeImageURL}\" class=\"gallery-link\">\n          <img src=\"${webformatURL}\" alt=\"${tags}\" class=\"gallery-image\" />\n        </a>\n        <div class=\"desc\">\n          <ul class=\"desc-wraper\">\n            <li class=\"desc-item\">\n              <h3>Likes</h3>\n              <p>${likes}</p>\n            </li>\n            <li class=\"desc-item\">\n              <h3>Views</h3>\n              <p>${views}</p>\n            </li>\n            <li class=\"desc-item\">\n              <h3>Comments</h3>\n              <p>${comments}</p>\n            </li>\n            <li class=\"desc-item\">\n              <h3>Downloads</h3>\n              <p>${downloads}</p>\n            </li>\n          </ul>\n        </div>\n      </li>\n    `;\n  }\n  \n  export function imagesTemplate(items) {\n    return items.map(imageTemplate).join('');\n  }\n  ","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { fetchImages } from './js/pixabay-api';\nimport { imagesTemplate } from './js/render-functions';\n\nconst refs = {\n  container: document.querySelector('.gallery'),\n  form: document.querySelector('.form'),\n  loader: document.querySelector('.loader'),\n  loadMoreBtn: document.querySelector('.load-more'),\n};\n\nlet query = '';\nlet page = 1;\nconst perPage = 40;\n\nrefs.form.addEventListener('submit', async (e) => {\n  e.preventDefault();\n  \n  query = e.target.elements.text.value.trim();\n  if (!query) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Please enter a search query!',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  refs.container.innerHTML = '';\n  refs.loader.classList.remove('hidden');\n  refs.loadMoreBtn.classList.add('hidden');\n  page = 1;\n  \n  try {\n    const images = await fetchImages(query, page, perPage);\n    renderImages(images);\n    if (images.length === perPage) refs.loadMoreBtn.classList.remove('hidden');\n  } catch (error) {\n    iziToast.error({\n      title: 'Error',\n      message: 'No images found. Try again!',\n      position: 'topRight',\n    });\n  } finally {\n    refs.loader.classList.add('hidden');\n    e.target.reset();\n  }\n});\n\nrefs.loadMoreBtn.addEventListener('click', async () => {\n  page += 1;\n  refs.loader.classList.remove('hidden');\n\n  try {\n    const images = await fetchImages(query, page, perPage);\n    renderImages(images);\n    if (images.length < perPage) refs.loadMoreBtn.classList.add('hidden');\n  } catch (error) {\n    iziToast.error({\n      title: 'Error',\n      message: 'Error loading more images!',\n      position: 'topRight',\n    });\n  } finally {\n    refs.loader.classList.add('hidden');\n  }\n});\n\nfunction renderImages(items) {\n  const markup = imagesTemplate(items);\n  refs.container.insertAdjacentHTML('beforeend', markup);\n  gallery.refresh();\n}\n\nconst gallery = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});"],"names":["BASE_URL","API_KEY","PER_PAGE","fetchImages","query","page","params","axios","error","imageTemplate","item","webformatURL","largeImageURL","tags","likes","views","comments","downloads","imagesTemplate","items","refs","perPage","e","iziToast","images","renderImages","markup","gallery","SimpleLightbox"],"mappings":"owBAEA,MAAMA,EAAW,2BACXC,EAAU,qCACVC,EAAW,GAEV,eAAeC,EAAYC,EAAOC,EAAM,CAC7C,MAAMC,EAAS,CACb,IAAKL,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAUF,EACV,KAAMG,CACV,EAEE,GAAI,CAEF,OADiB,MAAME,EAAM,IAAIP,EAAU,CAAE,OAAAM,CAAM,CAAE,GACrC,IACjB,OAAQE,EAAO,CACd,eAAQ,MAAM,yBAA0BA,CAAK,EACtC,CAAE,KAAM,CAAA,EAAI,UAAW,CAAC,CAChC,CACH,CCxBO,SAASC,EAAcC,EAAM,CAChC,KAAM,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,EAAGP,EAEjF,MAAO;AAAA;AAAA,mBAEQE,CAAa;AAAA,sBACVD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAM7BC,CAAK;AAAA;AAAA;AAAA;AAAA,mBAILC,CAAK;AAAA;AAAA;AAAA;AAAA,mBAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,mBAIRC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA,KAMzB,CAEM,SAASC,EAAeC,EAAO,CACpC,OAAOA,EAAM,IAAIV,CAAa,EAAE,KAAK,EAAE,CAC3C,CC3BA,MAAMW,EAAO,CACX,UAAW,SAAS,cAAc,UAAU,EAC5C,KAAM,SAAS,cAAc,OAAO,EACpC,OAAQ,SAAS,cAAc,SAAS,EACxC,YAAa,SAAS,cAAc,YAAY,CAClD,EAEA,IAAIhB,EAAQ,GACRC,EAAO,EACX,MAAMgB,EAAU,GAEhBD,EAAK,KAAK,iBAAiB,SAAU,MAAOE,GAAM,CAIhD,GAHAA,EAAE,eAAc,EAEhBlB,EAAQkB,EAAE,OAAO,SAAS,KAAK,MAAM,OACjC,CAAClB,EAAO,CACVmB,EAAS,MAAM,CACb,MAAO,QACP,QAAS,+BACT,SAAU,UAChB,CAAK,EACD,MACD,CAEDH,EAAK,UAAU,UAAY,GAC3BA,EAAK,OAAO,UAAU,OAAO,QAAQ,EACrCA,EAAK,YAAY,UAAU,IAAI,QAAQ,EACvCf,EAAO,EAEP,GAAI,CACF,MAAMmB,EAAS,MAAMrB,EAAYC,EAAOC,EAAMgB,CAAO,EACrDI,EAAaD,CAAM,EACfA,EAAO,SAAWH,GAASD,EAAK,YAAY,UAAU,OAAO,QAAQ,CAC1E,MAAe,CACdG,EAAS,MAAM,CACb,MAAO,QACP,QAAS,8BACT,SAAU,UAChB,CAAK,CACL,QAAY,CACRH,EAAK,OAAO,UAAU,IAAI,QAAQ,EAClCE,EAAE,OAAO,OACV,CACH,CAAC,EAEDF,EAAK,YAAY,iBAAiB,QAAS,SAAY,CACrDf,GAAQ,EACRe,EAAK,OAAO,UAAU,OAAO,QAAQ,EAErC,GAAI,CACF,MAAMI,EAAS,MAAMrB,EAAYC,EAAOC,EAAMgB,CAAO,EACrDI,EAAaD,CAAM,EACfA,EAAO,OAASH,GAASD,EAAK,YAAY,UAAU,IAAI,QAAQ,CACrE,MAAe,CACdG,EAAS,MAAM,CACb,MAAO,QACP,QAAS,6BACT,SAAU,UAChB,CAAK,CACL,QAAY,CACRH,EAAK,OAAO,UAAU,IAAI,QAAQ,CACnC,CACH,CAAC,EAED,SAASK,EAAaN,EAAO,CAC3B,MAAMO,EAASR,EAAeC,CAAK,EACnCC,EAAK,UAAU,mBAAmB,YAAaM,CAAM,EACrDC,EAAQ,QAAO,CACjB,CAEA,MAAMA,EAAU,IAAIC,EAAe,aAAc,CAC/C,aAAc,MACd,aAAc,GAChB,CAAC"}